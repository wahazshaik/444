# Generated by Django 2.2 on 2021-02-01 18:15

from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='ApprovalLinkSent',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('approval_token', models.CharField(db_column='APPROVAL_TOKEN', max_length=30)),
                ('app', models.CharField(db_column='APP', max_length=30)),
                ('model', models.CharField(db_column='MODEL', max_length=30)),
                ('request_id', models.CharField(db_column='REQUEST_ID', max_length=10)),
                ('is_valid', models.BooleanField(db_column='IS_VALID', default=True)),
                ('approver', models.CharField(db_column='APPROVER', max_length=300, null=True)),
                ('receiver_email', models.EmailField(blank=True, db_column='RECEIVER_EMAIL', max_length=140, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_column='CREATED_AT')),
                ('last_updated_at', models.DateTimeField(auto_now=True, db_column='LAST_UPDATED_BY')),
            ],
        ),
        migrations.CreateModel(
            name='WorkflowActionMaster',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('action_type', models.CharField(choices=[('Init', 'Init'), ('Improve', 'Improve'), ('Approve', 'Approve'), ('Reject', 'Reject')], db_column='Action Type', max_length=15)),
                ('action_label', models.CharField(db_column='Action Label', max_length=100)),
            ],
        ),
        migrations.CreateModel(
            name='WorkflowConstraintsMaster',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('app_name', models.CharField(db_column='App name', max_length=100)),
                ('model_name', models.CharField(db_column='Model name', max_length=100)),
                ('field_name', models.CharField(db_column='Field name', max_length=100)),
                ('relational_operator', models.CharField(db_column='Relational operator', max_length=100)),
                ('field_value', models.CharField(db_column='Field value', max_length=100)),
            ],
        ),
        migrations.CreateModel(
            name='WorkflowTransactions',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('model_name', models.CharField(db_column='Model name', max_length=50)),
                ('app_name', models.CharField(db_column='App name', max_length=50)),
                ('request_id', models.CharField(db_column='Request Id', max_length=50)),
                ('action', models.CharField(blank=True, db_column='Action', default='Initiated', max_length=50, null=True)),
                ('current_state', models.CharField(blank=True, db_column='Current State', default='None', max_length=50, null=True)),
                ('approver', models.CharField(blank=True, db_column='Current Approver', max_length=3000, null=True)),
                ('approver_type', models.CharField(blank=True, db_column='Current Approver Type', max_length=30, null=True)),
                ('approver_user_if_group', models.CharField(blank=True, db_column='Approver User if Group', max_length=30, null=True)),
                ('next_approver', models.CharField(blank=True, db_column='Next Approver', max_length=3000, null=True)),
                ('next_approver_type', models.CharField(blank=True, db_column='Next Approver Type', max_length=30, null=True)),
                ('next_state', models.CharField(db_column='Next State', default='Draft', max_length=50)),
                ('remarks', models.TextField(blank=True, db_column='Remarks', max_length=250, null=True)),
                ('action_plan_executed', models.TextField(blank=True, null=True)),
                ('level_executed', models.IntegerField(blank=True, db_column='LEVEL_EXECUTED', null=True)),
                ('was_parallel', models.BooleanField(db_column='WAS_PARALLEL', default=False)),
                ('was_inter_parallel', models.BooleanField(db_column='WAS_INTER_PARALLEL', default=False)),
                ('was_upto_level', models.IntegerField(blank=True, db_column='WAS_UPTO_LEVEL', null=True)),
                ('created_date', models.DateTimeField(auto_now=True, db_column='CREATED_DATE')),
            ],
        ),
        migrations.CreateModel(
            name='WorkflowTransitionsMaster',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('current_state', models.CharField(db_column='Current State', max_length=50)),
                ('action', models.CharField(blank=True, db_column='Action', default='Initiated', max_length=50, null=True)),
                ('next_state', models.CharField(db_column='Next State', max_length=50)),
                ('model_name', models.CharField(db_column='Model name', max_length=50)),
                ('app_name', models.CharField(db_column='App name', max_length=50)),
                ('action_group', models.CharField(blank=True, db_column='Action by Group', max_length=5000, null=True)),
                ('action_user', models.CharField(blank=True, db_column='Action by User', max_length=50, null=True)),
                ('approval_strength', models.PositiveIntegerField(db_column='Approval Strength', default=0)),
                ('is_last_transition', models.BooleanField(db_column='Is Last Approval', default=False)),
                ('level', models.PositiveIntegerField(db_column='level', default=0)),
                ('action_plan', models.TextField(blank=True, db_column='ACTION_PLAN', null=True)),
                ('is_parallel_trans', models.BooleanField(db_column='IS_PARALLEL', default=False)),
                ('is_inter_parallel', models.BooleanField(db_column='IS_INTER_PARALLEL', default=False)),
                ('upto_level_inter_parallel', models.IntegerField(blank=True, db_column='UPTO_LEVEL_INTER_PARALLEL', null=True)),
                ('is_active', models.BooleanField(db_column='IS_ACTIVE', default=True)),
                ('constraints', models.ManyToManyField(blank=True, db_column='Constraints', to='workflow.WorkflowConstraintsMaster')),
            ],
        ),
        migrations.CreateModel(
            name='ApprovalLinkProxy',
            fields=[
            ],
            options={
                'proxy': True,
                'indexes': [],
                'constraints': [],
            },
            bases=('workflow.approvallinksent',),
        ),
        migrations.CreateModel(
            name='WorkflowAction',
            fields=[
            ],
            options={
                'proxy': True,
                'indexes': [],
                'constraints': [],
            },
            bases=('workflow.workflowactionmaster',),
        ),
        migrations.CreateModel(
            name='WorkflowConstraints',
            fields=[
            ],
            options={
                'proxy': True,
                'indexes': [],
                'constraints': [],
            },
            bases=('workflow.workflowconstraintsmaster',),
        ),
        migrations.CreateModel(
            name='WorkflowLog',
            fields=[
            ],
            options={
                'proxy': True,
                'indexes': [],
                'constraints': [],
            },
            bases=('workflow.workflowtransactions',),
        ),
        migrations.CreateModel(
            name='WorkflowTransitions',
            fields=[
            ],
            options={
                'proxy': True,
                'indexes': [],
                'constraints': [],
            },
            bases=('workflow.workflowtransitionsmaster',),
        ),
        migrations.CreateModel(
            name='InterParallelApproverRules',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('if_approver', models.CharField(db_column='IF_APPROVER', max_length=300)),
                ('include_to_approver', models.CharField(db_column='INCLUDE_TO_APPROVER', max_length=500)),
                ('for_transaction', models.ForeignKey(db_column='FOR_TRANSACTION', on_delete=django.db.models.deletion.CASCADE, related_name='INTER_APPROVER_RULES', to='workflow.WorkflowTransitionsMaster')),
            ],
            options={
                'unique_together': {('if_approver', 'for_transaction')},
            },
        ),
    ]
